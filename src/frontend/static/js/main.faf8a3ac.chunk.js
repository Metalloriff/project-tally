(this.webpackJsonpboilerplate=this.webpackJsonpboilerplate||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(9),s=n.n(r),i=n(4),l=n.n(i),o=n(10),u=n(14),d=n(3),j=n(13),h=(n(23),n(16)),b=n(17),x=(n(29),n(0));function f(e){var t=e.title,n=e.defaultValue,c=e.callback;return Object(x.jsxs)("div",{className:"SwitchItem",children:[Object(x.jsx)("div",{className:"Title",children:t}),Object(x.jsx)("input",{className:"Switch",type:"checkbox",defaultChecked:n,onInput:function(e){return null===c||void 0===c?void 0:c(e.currentTarget.checked)}})]})}var O=n(5);n(31);function p(){return Object(x.jsxs)("div",{className:"InlineLoadingContainer",children:[Object(x.jsx)("div",{className:"Dot A"}),Object(x.jsx)("div",{className:"Dot B"}),Object(x.jsx)("div",{className:"Dot C"})]})}n(15),n(32);function v(){for(var e="",t=0;t<arguments.length;t++){switch(typeof arguments[t]){case Array.isArray(arguments[t])&&"boolean"===typeof arguments[t][0]&&"object":!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]);break;default:e+=arguments[t]}e+=" "}return e.trim()}function m(e){var t=e.children,n=e.direction,c=void 0===n?"up":n,r=e.className,s=void 0===r?"":r,i=e.color,l=e.style,o=e.onClick,u=a.a.useState(!1),j=Object(d.a)(u,2),h=j[0],b=(j[1],a.a.useRef());return a.a.useEffect((function(){return b.current.parentElement.classList.add("HasTooltip"),function(){b.current&&b.current.parentElement.classList.remove("HasTooltip")}}),[t,c]),Object(x.jsxs)("div",{ref:b,className:v("TooltipContainer",c.toLowerCase(),[h,"Visible"],s),style:l,onClick:o,children:[Object(x.jsx)("div",{className:"Tooltip",style:{backgroundColor:i},children:t}),Object(x.jsx)("div",{className:"TooltipArrow",style:{backgroundColor:i}})]})}var g=window.require("electron");var C={includeSubDirs:!0,blackList:"/node_modules/\n/build/",languages:Object.keys(O)},y=window.require("fs"),N=window.require("path");function k(){return(k=Object(j.a)(l.a.mark((function e(){var t,n,c,a,r,s,i,u,h,b,x,f,p,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=Object(j.a)(l.a.mark((function e(r){var s,i,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return y.readdir(r,(function(t,n){return e(n)}))}));case 2:s=e.sent,i=Object(o.a)(s),e.prev=4,d=l.a.mark((function e(){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u.value,i=N.join(r,s),!c.some((function(e){return~i.indexOf(e)}))){e.next=4;break}return e.abrupt("return","continue");case 4:if(!y.lstatSync(i).isDirectory()){e.next=11;break}if(!C.includeSubDirs){e.next=9;break}return e.next=9,a(i);case 9:e.next=12;break;case 11:~t.indexOf(N.extname(s))&&n.push(i);case 12:D.setStatus("".concat(n.length," files found so far"));case 13:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=14;break}return e.delegateYield(d(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)},a=function(e){return r.apply(this,arguments)},t=C.languages.reduce((function(e,t){var n,c=Object(o.a)(O[t].extensions);try{for(c.s();!(n=c.n()).done;){var a=n.value;e.push(a)}}catch(r){c.e(r)}finally{c.f()}return e}),[]),n=[],c=C.blackList.split("\n").map((function(e){return e.replace(/\//g,"\\").trim()})),e.next=7,a(D.directory);case 7:s=Object.entries(O),i={errors:0,total:{fileCount:0,lineCount:0,charCount:0}},u=l.a.mark((function e(){var t,n,c,a,r,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b[h],e.prev=1,n=N.extname(t),c=N.basename(t),a=s.find((function(e){return~Object(d.a)(e,2)[1].extensions.indexOf(n)}))[0],r=t.replace(D.directory,"").slice(1),D.setStatus("Reading ".concat(c,"...")),i[a]||(i[a]={fileCount:0,lineCount:0,charCount:0,fileData:{}}),e.next=10,new Promise((function(e){return y.readFile(t,"utf8",(function(t,n){return e(n)}))}));case 10:o=e.sent,u={lineCount:o.split("\n").length,charCount:o.length},i[a].fileData[r]=u,i.total.fileCount++,i.total.lineCount+=u.lineCount,i.total.charCount+=u.charCount,i[a].fileCount++,i[a].lineCount+=u.lineCount,i[a].charCount+=u.charCount,e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),i.errors++,console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})),h=0,b=n;case 11:if(!(h<b.length)){e.next=16;break}return e.delegateYield(u(),"t0",13);case 13:h++,e.next=11;break;case 16:x=Object(o.a)(C.languages),e.prev=17,x.s();case 19:if((f=x.n()).done){e.next=29;break}if(p=f.value,i[p]){e.next=23;break}return e.abrupt("continue",27);case 23:for(v in i[p].filePercentage=i[p].fileCount/i.total.fileCount,i[p].linePercentage=i[p].lineCount/i.total.lineCount,i[p].charPercentage=i[p].charCount/i.total.charCount,i[p].fileData)i[p].fileData[v].linePercentage=i[p].fileData[v].lineCount/i[p].lineCount,i[p].fileData[v].charPercentage=i[p].fileData[v].charCount/i[p].charCount;case 27:e.next=19;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(17),x.e(e.t1);case 34:return e.prev=34,x.f(),e.finish(34);case 37:D.setTallyData(i),D.setProcessingState(!1),console.log(i);case 40:case"end":return e.stop()}}),e,null,[[17,31,34,37]])})))).apply(this,arguments)}function w(e){var t,n,c=e.lang,r=e.data,s=e.children,i=void 0===s?null:s,l=a.a.useState(!0),o=Object(d.a)(l,2),j=o[0],h=o[1],b=a.a.useMemo((function(){return r?Object.keys(r.fileData).sort((function(e,t){return r.fileData[t].charCount-r.fileData[e].charCount})):[]}),[]),f=a.a.useState(r?b.slice(0,20):[]),p=Object(d.a)(f,2),v=p[0],m=p[1];return Object(x.jsxs)("div",{className:"TallyItem",onClick:function(e){return e.target===e.currentTarget&&h(!j)},children:[Object(x.jsxs)("h2",{className:"Title",children:[Object(x.jsx)("div",{className:"ColorItem",style:{backgroundColor:null!==(t=null===(n=O[c])||void 0===n?void 0:n.color)&&void 0!==t?t:"white"}}),Object(x.jsx)("div",{className:"SubTitle",children:c})]}),!j&&(null!==i&&void 0!==i?i:Object(x.jsxs)("div",{className:"Contents",children:[Object(x.jsx)("h1",{className:"Title",style:{marginTop:0},children:"Overall Stats"}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsxs)("b",{children:[c," File Count"]})," - ",Object(x.jsx)("span",{children:P(r.fileCount)})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsxs)("b",{children:[c," Line Count"]})," - ",Object(x.jsx)("span",{children:P(r.lineCount)})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsxs)("b",{children:[c," Character Count"]})," - ",Object(x.jsx)("span",{children:P(r.charCount)})]}),Object(x.jsx)("h1",{className:"Title",children:"Per-file Data"}),v.map((function(e){return Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("div",{className:"Big",children:e}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Line Count"})," - ",Object(x.jsx)("span",{children:P(r.fileData[e].lineCount)})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Char Count"})," - ",Object(x.jsx)("span",{children:P(r.fileData[e].charCount)})]}),Object(x.jsxs)("p",{children:[Object(x.jsxs)("b",{children:["Line Count % of ",c]})," - ",Object(x.jsxs)("span",{children:[(100*r.fileData[e].linePercentage).toFixed(1),"%"]})]}),Object(x.jsxs)("p",{children:[Object(x.jsxs)("b",{children:["Char Count % of ",c]})," - ",Object(x.jsxs)("span",{children:[(100*r.fileData[e].charPercentage).toFixed(1),"%"]})]})]},e)})),b.length-v.length>0&&Object(x.jsxs)("div",{className:"Button",style:{marginRight:0,marginBottom:0},onClick:function(){return m([].concat(Object(u.a)(v),Object(u.a)(b.slice(v.length,v.length+20))))},children:["Show More (",b.length-v.length," remaining)"]})]}))]})}function P(e){return(new Intl.NumberFormat).format(e)}function S(e){g.remote.dialog.showSaveDialog(null,{filters:[{name:"Tally Data JSON",extensions:["json"]}]}).then((function(t){var n=t.filePath;return n&&y.writeFileSync(n,JSON.stringify(e,null,"\t"),{encoding:"utf8"})}))}function D(){var e=a.a.useState(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=a.a.useState(!1),s=Object(d.a)(r,2),i=s[0],l=s[1],o=a.a.useState(null),u=Object(d.a)(o,2),j=u[0],v=u[1],y=a.a.useState(null),N=Object(d.a)(y,2),T=N[0],L=N[1];D.directory=n,D.setProcessingState=l,D.setTallyData=v,D.setStatus=L;var B=j?C.languages.filter((function(e){return j[e]})):null;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"Main",children:[Object(x.jsxs)("div",{className:"FilePickerContainer",onClick:function(){return g.remote.dialog.showOpenDialog(null,{properties:["openDirectory"]}).then((function(e){var t,n=e.filePaths;return(null===n||void 0===n?void 0:n.length)&&(t=n[0],c(t),v(null),void L(null))}))},children:[Object(x.jsx)(h.a,{icon:b.a,className:"Icon"}),Object(x.jsx)("div",{className:"DirectoryContainer",children:(null===n||void 0===n?void 0:n.length)?n:Object(x.jsx)("span",{children:"No directory selected."})}),Object(x.jsx)("div",{children:"Select Directory"})]}),i&&Object(x.jsxs)("div",{className:"Processing",children:[Object(x.jsx)("h1",{children:"Scanning..."}),(null===T||void 0===T?void 0:T.length)&&Object(x.jsx)("h1",{children:T}),Object(x.jsx)(p,{})]}),j&&Object(x.jsxs)("div",{className:"DirectoryPropertyContainer TallyDataList",children:[Object(x.jsx)(w,{lang:"Total",children:Object(x.jsxs)("div",{className:"Contents",children:[Object(x.jsx)("h1",{className:"Title",style:{marginTop:0},children:"Overall Stats"}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("b",{children:"Total File Count"})," - ",Object(x.jsx)("span",{children:P(j.total.fileCount)})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("b",{children:"Total Line Count"})," - ",Object(x.jsx)("span",{children:P(j.total.lineCount)})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("b",{children:"Total Character Count"})," - ",Object(x.jsx)("span",{children:P(j.total.charCount)})]}),Object(x.jsx)("h1",{className:"Title",children:"Language Percentages"}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("div",{className:"Title",children:"By File Count"}),Object(x.jsx)("div",{className:"PercentageTally",children:B.sort((function(e,t){return j[t].filePercentage-j[e].filePercentage})).map((function(e){return Object(x.jsx)("div",{className:"Bar",style:{backgroundColor:O[e].color,width:100*j[e].filePercentage+"%"},children:Object(x.jsxs)(m,{color:"var(--primary-bg)",children:[e," - ",Object(x.jsxs)("span",{style:{color:"var(--primary-color)"},children:[(100*j[e].filePercentage).toFixed(1),"%"]})]})},e)}))})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("div",{className:"Title",children:"By Line Count"}),Object(x.jsx)("div",{className:"PercentageTally",children:B.sort((function(e,t){return j[t].linePercentage-j[e].linePercentage})).map((function(e){return Object(x.jsx)("div",{className:"Bar",style:{backgroundColor:O[e].color,width:100*j[e].linePercentage+"%"},children:Object(x.jsxs)(m,{color:"var(--primary-bg)",children:[e," - ",Object(x.jsxs)("span",{style:{color:"var(--primary-color)"},children:[(100*j[e].linePercentage).toFixed(1),"%"]})]})},e)}))})]}),Object(x.jsxs)("div",{className:"Entry",children:[Object(x.jsx)("div",{className:"Title",children:"By Character Count"}),Object(x.jsx)("div",{className:"PercentageTally",children:B.sort((function(e,t){return j[t].charPercentage-j[e].charPercentage})).map((function(e){return j[e]&&Object(x.jsx)("div",{className:"Bar",style:{backgroundColor:O[e].color,width:100*j[e].charPercentage+"%"},children:Object(x.jsxs)(m,{color:"var(--primary-bg)",children:[e," - ",Object(x.jsxs)("span",{style:{color:"var(--primary-color)"},children:[(100*j[e].charPercentage).toFixed(1),"%"]})]})},e)}))})]})]})}),B.sort((function(e,t){return j[t].charPercentage-j[e].charPercentage})).map((function(e){return Object(x.jsx)(w,{data:j[e],lang:e},e)}))]}),(null===n||void 0===n?void 0:n.length)&&!i&&!j&&Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)("div",{className:"DirectoryPropertyContainer",children:Object(x.jsx)(f,{title:"Include sub-directories",defaultValue:C.includeSubDirs,callback:function(e){return C.includeSubDirs=e}})}),Object(x.jsx)("div",{className:"DirectoryPropertyContainer",children:Object(x.jsxs)("div",{className:"BlacklistContainer",children:[Object(x.jsx)("h2",{className:"Title",children:"Blacklist"}),Object(x.jsx)("p",{className:"Note",children:"Files and directories containing keywords from your blacklist will not be included in the search."}),Object(x.jsx)("p",{className:"Note",children:"Separate with new lines."}),Object(x.jsx)("textarea",{className:"Field",defaultValue:C.blackList,spellCheck:!1,onChange:function(e){return C.blackList=e.currentTarget.value}})]})}),Object(x.jsx)("div",{className:"DirectoryPropertyContainer",children:Object(x.jsxs)("div",{className:"LanguagesList",children:[Object(x.jsx)("h2",{className:"Title",children:"Languages"}),Object(x.jsx)("p",{className:"Note",children:"What languages you wish to include in the search."}),Object(x.jsx)("div",{className:"List",children:Object.entries(O).map((function(e){var t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(x.jsx)(f,{title:Object(x.jsxs)("span",{children:[Object(x.jsx)("span",{className:"ColorItem",style:{backgroundColor:c.color}}),Object(x.jsx)("span",{className:"SubTitle",children:n})]}),defaultValue:!0,callback:function(e){return e?C.languages.push(n):C.languages.splice(C.languages.indexOf(n),1)}},n)}))})]})})]}),Object(x.jsxs)("div",{className:"Buttons",children:[(null===n||void 0===n?void 0:n.length)&&!i&&Object(x.jsx)("div",{className:"Button",onClick:function(){return console.log(C),l(!0),function(){return k.apply(this,arguments)}()},children:j?"Re-tally":"Begin Scan"}),j&&Object(x.jsx)("div",{className:"Button",onClick:S.bind(null,j),children:"Export Data To JSON"})]})]}),Object(x.jsxs)("footer",{className:"Footer",children:[Object(x.jsx)("div",{children:Object(x.jsx)("a",{href:"https://fontawesome.com/license",children:"Icon License"})}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsx)("div",{children:Object(x.jsx)("a",{href:"https://www.nordtheme.com",children:"Color Palette"})}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsxs)("div",{children:["Copyright \xa9 2021-",(new Date).getFullYear()," Metalloriff"]}),Object(x.jsx)("div",{className:"Divider"}),Object(x.jsxs)("div",{children:["Made by ",Object(x.jsx)("a",{href:"https://metalloriff.github.io/",children:"Metalloriff"})]})]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e){e.exports=JSON.parse('{"JavaScript":{"color":"#f7df1e","extensions":[".js",".jsx"]},"TypeScript":{"color":"#0076c5","extensions":[".ts",".tsx"]},"CSS":{"color":"#30ace0","extensions":[".css"]},"Scss":{"color":"#d1649d","extensions":[".scss"]},"Sass":{"color":"#d1649d","extensions":[".sass"]},"HTML":{"color":"#eb6132","extensions":[".html"]},"Python":{"color":"#346c99","extensions":[".py",".pyw",".py3",".pyc",".pyo",".pyd",".pxi",".pyz",".pywz"]},"Cython":{"color":"#656565","extensions":[".pyx",".pxd"]},"Java":{"color":"#7f523e","extensions":[".java"]},"GO":{"color":"#67d0dd","extensions":[".go"]},"Ruby":{"color":"#e70e13","extensions":[".rb"]},"C++":{"color":"#6295cb","extensions":[".cpp",".cc"]},"C":{"color":"#005697","extensions":[".c"]},"C#":{"color":"#9c74d4","extensions":[".cs"]},"CoffeeScript":{"color":"#27324a","extensions":[".coffee"]},"Lua":{"color":"#00007c","extensions":[".lua"]},"PHP":{"color":"#6b6fa5","extensions":[".php"]}}')}},[[33,1,2]]]);
//# sourceMappingURL=main.faf8a3ac.chunk.js.map